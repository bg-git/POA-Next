{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/POA%20Next/apps/storefront/src/pages/blogs/piercing-magazine/%5Bslug%5D.tsx"],"sourcesContent":["import Head from 'next/head';\r\nimport Link from 'next/link';\r\nimport Image from 'next/image';\r\nimport type { GetStaticProps, GetStaticPaths } from 'next';\r\n\r\ninterface BlogArticle {\r\n  id: string;\r\n  title: string;\r\n  handle: string;\r\n  excerpt: string;\r\n  content: string;\r\n  publishedAt: string;\r\n  image?: {\r\n    url: string;\r\n    altText?: string;\r\n  };\r\n  author?: {\r\n    name: string;\r\n  };\r\n}\r\n\r\ninterface Props {\r\n  article: BlogArticle | null;\r\n}\r\n\r\nexport default function ArticlePage({ article }: Props) {\r\n  if (!article) {\r\n    return (\r\n      <main style={{ maxWidth: '800px', margin: '0 auto', padding: '40px 20px' }}>\r\n        <h1>Article not found</h1>\r\n        <Link href=\"/blogs/piercing-magazine\">\r\n          <button style={{\r\n            padding: '10px 20px',\r\n            marginTop: '20px',\r\n            backgroundColor: '#000',\r\n            color: '#fff',\r\n            border: 'none',\r\n            cursor: 'pointer',\r\n            borderRadius: '4px',\r\n          }}>\r\n            Back to Magazine\r\n          </button>\r\n        </Link>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Head>\r\n        <title>{article.title} - PIERCE OF ART</title>\r\n        <meta name=\"description\" content={article.excerpt} />\r\n        <meta property=\"og:title\" content={article.title} />\r\n        <meta property=\"og:description\" content={article.excerpt} />\r\n        {article.image && <meta property=\"og:image\" content={article.image.url} />}\r\n        <style>{`\r\n          .article-content h1,\r\n          .article-content h2,\r\n          .article-content h3,\r\n          .article-content h4,\r\n          .article-content h5,\r\n          .article-content h6 {\r\n            margin-top: 1.5em;\r\n            margin-bottom: 0.5em;\r\n          }\r\n          .article-content p {\r\n            margin-bottom: 1em;\r\n          }\r\n          .article-content ul,\r\n          .article-content ol {\r\n            margin-bottom: 1em;\r\n            margin-left: 1.5em;\r\n          }\r\n          .article-content li {\r\n            margin-bottom: 0.5em;\r\n          }\r\n          .article-content img {\r\n            max-width: 100%;\r\n            height: auto;\r\n            margin: 1.5em 0;\r\n          }\r\n          .article-content blockquote {\r\n            border-left: 4px solid #ddd;\r\n            margin: 1.5em 0;\r\n            padding-left: 1em;\r\n            color: #666;\r\n          }\r\n        `}</style>\r\n      </Head>\r\n\r\n      <main style={{ maxWidth: '800px', margin: '0 auto', padding: '40px 20px' }}>\r\n        <Link href=\"/blogs/piercing-magazine\" style={{ textDecoration: 'none', color: '#666' }}>\r\n          ← Back to Magazine\r\n        </Link>\r\n\r\n        <article style={{ marginTop: '40px' }}>\r\n          <header style={{ marginBottom: '40px' }}>\r\n            <h1 style={{ fontSize: '2.2em', marginBottom: '20px', marginTop: 0 }}>\r\n              {article.title}\r\n            </h1>\r\n\r\n            <div\r\n              style={{\r\n                fontSize: '0.95em',\r\n                color: '#666',\r\n                borderTop: '1px solid #e0e0e0',\r\n                borderBottom: '1px solid #e0e0e0',\r\n                paddingTop: '15px',\r\n                paddingBottom: '15px',\r\n              }}\r\n            >\r\n              {new Date(article.publishedAt).toLocaleDateString('en-GB', {\r\n                year: 'numeric',\r\n                month: 'long',\r\n                day: 'numeric',\r\n              })}\r\n            </div>\r\n          </header>\r\n\r\n          {article.image && (\r\n            <figure style={{ margin: '40px 0', textAlign: 'center' }}>\r\n              <Image\r\n                src={article.image.url}\r\n                alt={article.image.altText || article.title}\r\n                width={800}\r\n                height={400}\r\n                style={{\r\n                  maxWidth: '100%',\r\n                  height: 'auto',\r\n                  borderRadius: '8px',\r\n                }}\r\n              />\r\n            </figure>\r\n          )}\r\n\r\n          <div\r\n            className=\"article-content\"\r\n            style={{\r\n              lineHeight: '1.8',\r\n              fontSize: '1.05em',\r\n              color: '#333',\r\n            }}\r\n          >\r\n            {article.content ? (\r\n              <div dangerouslySetInnerHTML={{ __html: article.content }} />\r\n            ) : (\r\n              <p>No content available</p>\r\n            )}\r\n          </div>\r\n        </article>\r\n\r\n        <div style={{ marginTop: '60px', paddingTop: '20px', borderTop: '1px solid #e0e0e0' }}>\r\n          <Link href=\"/blogs/piercing-magazine\">\r\n            <button style={{\r\n              padding: '10px 20px',\r\n              backgroundColor: '#000',\r\n              color: '#fff',\r\n              border: 'none',\r\n              cursor: 'pointer',\r\n              borderRadius: '4px',\r\n            }}>\r\n              ← Back to Magazine\r\n            </button>\r\n          </Link>\r\n        </div>\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n\r\nexport const getStaticPaths: GetStaticPaths = async () => {\r\n  try {\r\n    const baseUrl = process.env.NEXT_PUBLIC_BASE_URL || 'http://localhost:3000';\r\n    const res = await fetch(`${baseUrl}/api/shopify/blog/articles?blog=magazine`);\r\n    \r\n    if (!res.ok) throw new Error('Failed to fetch articles');\r\n    \r\n    const data = await res.json();\r\n    const paths = (data.articles || []).map((article: BlogArticle) => ({\r\n      params: { slug: article.handle },\r\n    }));\r\n\r\n    return {\r\n      paths,\r\n      fallback: 'blocking', // Generate on demand if not pre-generated\r\n    };\r\n  } catch (error) {\r\n    console.error('Error generating static paths:', error);\r\n    \r\n    return {\r\n      paths: [],\r\n      fallback: 'blocking',\r\n    };\r\n  }\r\n};\r\n\r\nexport const getStaticProps: GetStaticProps<Props> = async ({ params }) => {\r\n  try {\r\n    const slug = params?.slug as string;\r\n    const baseUrl = process.env.NEXT_PUBLIC_BASE_URL || 'http://localhost:3000';\r\n    const res = await fetch(`${baseUrl}/api/shopify/blog/articles?blog=magazine&handle=${slug}`);\r\n    \r\n    if (!res.ok) throw new Error('Failed to fetch article');\r\n    \r\n    const data = await res.json();\r\n    const article = data.articles?.[0] || null;\r\n    \r\n    return {\r\n      props: {\r\n        article,\r\n      },\r\n      revalidate: 3600, // Revalidate every hour (ISR)\r\n    };\r\n  } catch (error) {\r\n    console.error('Error fetching article:', error);\r\n    \r\n    return {\r\n      props: {\r\n        article: null,\r\n      },\r\n      revalidate: 60, // Retry after 1 minute on error\r\n    };\r\n  }\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;;;;;AAuBe,SAAS,YAAY,EAAE,OAAO,EAAS;IACpD,IAAI,CAAC,SAAS;QACZ,qBACE,qKAAC;YAAK,OAAO;gBAAE,UAAU;gBAAS,QAAQ;gBAAU,SAAS;YAAY;;8BACvE,qKAAC;8BAAG;;;;;;8BACJ,qKAAC,gIAAI;oBAAC,MAAK;8BACT,cAAA,qKAAC;wBAAO,OAAO;4BACb,SAAS;4BACT,WAAW;4BACX,iBAAiB;4BACjB,OAAO;4BACP,QAAQ;4BACR,QAAQ;4BACR,cAAc;wBAChB;kCAAG;;;;;;;;;;;;;;;;;IAMX;IAEA,qBACE;;0BACE,qKAAC,gIAAI;;kCACH,qKAAC;;4BAAO,QAAQ,KAAK;4BAAC;;;;;;;kCACtB,qKAAC;wBAAK,MAAK;wBAAc,SAAS,QAAQ,OAAO;;;;;;kCACjD,qKAAC;wBAAK,UAAS;wBAAW,SAAS,QAAQ,KAAK;;;;;;kCAChD,qKAAC;wBAAK,UAAS;wBAAiB,SAAS,QAAQ,OAAO;;;;;;oBACvD,QAAQ,KAAK,kBAAI,qKAAC;wBAAK,UAAS;wBAAW,SAAS,QAAQ,KAAK,CAAC,GAAG;;;;;;kCACtE,qKAAC;kCAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAgCT,CAAC;;;;;;;;;;;;0BAGH,qKAAC;gBAAK,OAAO;oBAAE,UAAU;oBAAS,QAAQ;oBAAU,SAAS;gBAAY;;kCACvE,qKAAC,gIAAI;wBAAC,MAAK;wBAA2B,OAAO;4BAAE,gBAAgB;4BAAQ,OAAO;wBAAO;kCAAG;;;;;;kCAIxF,qKAAC;wBAAQ,OAAO;4BAAE,WAAW;wBAAO;;0CAClC,qKAAC;gCAAO,OAAO;oCAAE,cAAc;gCAAO;;kDACpC,qKAAC;wCAAG,OAAO;4CAAE,UAAU;4CAAS,cAAc;4CAAQ,WAAW;wCAAE;kDAChE,QAAQ,KAAK;;;;;;kDAGhB,qKAAC;wCACC,OAAO;4CACL,UAAU;4CACV,OAAO;4CACP,WAAW;4CACX,cAAc;4CACd,YAAY;4CACZ,eAAe;wCACjB;kDAEC,IAAI,KAAK,QAAQ,WAAW,EAAE,kBAAkB,CAAC,SAAS;4CACzD,MAAM;4CACN,OAAO;4CACP,KAAK;wCACP;;;;;;;;;;;;4BAIH,QAAQ,KAAK,kBACZ,qKAAC;gCAAO,OAAO;oCAAE,QAAQ;oCAAU,WAAW;gCAAS;0CACrD,cAAA,qKAAC,iIAAK;oCACJ,KAAK,QAAQ,KAAK,CAAC,GAAG;oCACtB,KAAK,QAAQ,KAAK,CAAC,OAAO,IAAI,QAAQ,KAAK;oCAC3C,OAAO;oCACP,QAAQ;oCACR,OAAO;wCACL,UAAU;wCACV,QAAQ;wCACR,cAAc;oCAChB;;;;;;;;;;;0CAKN,qKAAC;gCACC,WAAU;gCACV,OAAO;oCACL,YAAY;oCACZ,UAAU;oCACV,OAAO;gCACT;0CAEC,QAAQ,OAAO,iBACd,qKAAC;oCAAI,yBAAyB;wCAAE,QAAQ,QAAQ,OAAO;oCAAC;;;;;yDAExD,qKAAC;8CAAE;;;;;;;;;;;;;;;;;kCAKT,qKAAC;wBAAI,OAAO;4BAAE,WAAW;4BAAQ,YAAY;4BAAQ,WAAW;wBAAoB;kCAClF,cAAA,qKAAC,gIAAI;4BAAC,MAAK;sCACT,cAAA,qKAAC;gCAAO,OAAO;oCACb,SAAS;oCACT,iBAAiB;oCACjB,OAAO;oCACP,QAAQ;oCACR,QAAQ;oCACR,cAAc;gCAChB;0CAAG;;;;;;;;;;;;;;;;;;;;;;;;AAQf;AAEO,MAAM,iBAAiC;IAC5C,IAAI;QACF,MAAM,UAAU,QAAQ,GAAG,CAAC,oBAAoB,IAAI;QACpD,MAAM,MAAM,MAAM,MAAM,GAAG,QAAQ,wCAAwC,CAAC;QAE5E,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;QAE7B,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,QAAQ,CAAC,KAAK,QAAQ,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,UAAyB,CAAC;gBACjE,QAAQ;oBAAE,MAAM,QAAQ,MAAM;gBAAC;YACjC,CAAC;QAED,OAAO;YACL;YACA,UAAU;QACZ;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,kCAAkC;QAEhD,OAAO;YACL,OAAO,EAAE;YACT,UAAU;QACZ;IACF;AACF;AAEO,MAAM,iBAAwC,OAAO,EAAE,MAAM,EAAE;IACpE,IAAI;QACF,MAAM,OAAO,QAAQ;QACrB,MAAM,UAAU,QAAQ,GAAG,CAAC,oBAAoB,IAAI;QACpD,MAAM,MAAM,MAAM,MAAM,GAAG,QAAQ,gDAAgD,EAAE,MAAM;QAE3F,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;QAE7B,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,UAAU,KAAK,QAAQ,EAAE,CAAC,EAAE,IAAI;QAEtC,OAAO;YACL,OAAO;gBACL;YACF;YACA,YAAY;QACd;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QAEzC,OAAO;YACL,OAAO;gBACL,SAAS;YACX;YACA,YAAY;QACd;IACF;AACF"}}]
}