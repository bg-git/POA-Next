{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/POA%20Next/apps/storefront/src/pages/blogs/piercing-magazine/index.tsx"],"sourcesContent":["import Link from 'next/link';\r\nimport Head from 'next/head';\r\nimport type { GetStaticProps } from 'next';\r\n\r\ninterface BlogArticle {\r\n  id: string;\r\n  title: string;\r\n  handle: string;\r\n  excerpt: string;\r\n  publishedAt: string;\r\n  image?: {\r\n    url: string;\r\n    altText?: string;\r\n  };\r\n  author?: {\r\n    name: string;\r\n  };\r\n}\r\n\r\ninterface Props {\r\n  articles: BlogArticle[];\r\n}\r\n\r\nexport default function MagazinePage({ articles }: Props) {\r\n\r\n  return (\r\n    <>\r\n      <Head>\r\n        <title>Piercing Magazine - PIERCE OF ART</title>\r\n        <meta \r\n          name=\"description\" \r\n          content=\"Read our latest blog posts about body piercing, jewelry, and piercing studios.\" \r\n        />\r\n      </Head>\r\n\r\n      <main style={{ maxWidth: '1200px', margin: '0 auto', padding: '40px 20px' }}>\r\n        <div style={{ marginBottom: '40px' }}>\r\n          <h1 style={{ fontSize: '2.5em', marginBottom: '10px' }}>Piercing Magazine</h1>\r\n          <p style={{ fontSize: '1.1em', color: '#666' }}>\r\n            Latest insights and articles about professional body piercing\r\n          </p>\r\n        </div>\r\n\r\n        {articles.length === 0 && (\r\n          <div style={{ textAlign: 'center', padding: '40px' }}>\r\n            <p>No articles found.</p>\r\n          </div>\r\n        )}\r\n\r\n        {articles.length > 0 && (\r\n          <div\r\n            style={{\r\n              display: 'grid',\r\n              gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))',\r\n              gap: '30px',\r\n            }}\r\n          >\r\n            {articles.map((article) => (\r\n              <Link\r\n                key={article.id}\r\n                href={`/blogs/piercing-magazine/${article.handle}`}\r\n                style={{ textDecoration: 'none', color: 'inherit' }}\r\n              >\r\n                <div\r\n                  style={{\r\n                    border: '1px solid #e0e0e0',\r\n                    borderRadius: '8px',\r\n                    overflow: 'hidden',\r\n                    cursor: 'pointer',\r\n                    transition: 'transform 0.2s',\r\n                  }}\r\n                  onMouseEnter={(e) => {\r\n                    (e.currentTarget as HTMLDivElement).style.transform = 'translateY(-5px)';\r\n                  }}\r\n                  onMouseLeave={(e) => {\r\n                    (e.currentTarget as HTMLDivElement).style.transform = 'translateY(0)';\r\n                  }}\r\n                >\r\n                  {article.image && (\r\n                    <div\r\n                      style={{\r\n                        width: '100%',\r\n                        height: '200px',\r\n                        backgroundColor: '#f0f0f0',\r\n                        overflow: 'hidden',\r\n                      }}\r\n                    >\r\n                      <img\r\n                        src={article.image.url}\r\n                        alt={article.image.altText || article.title}\r\n                        style={{\r\n                          width: '100%',\r\n                          height: '100%',\r\n                          objectFit: 'cover',\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  )}\r\n\r\n                  <div style={{ padding: '20px' }}>\r\n                    <h2 style={{ fontSize: '1.3em', marginBottom: '10px', marginTop: 0 }}>\r\n                      {article.title}\r\n                    </h2>\r\n\r\n                    <p\r\n                      style={{\r\n                        color: '#666',\r\n                        marginBottom: '15px',\r\n                        lineHeight: '1.6',\r\n                      }}\r\n                    >\r\n                      {article.excerpt}\r\n                    </p>\r\n\r\n                    <div\r\n                      style={{\r\n                        fontSize: '0.9em',\r\n                        color: '#999',\r\n                      }}\r\n                    >\r\n                      {new Date(article.publishedAt).toLocaleDateString('en-GB', {\r\n                        year: 'numeric',\r\n                        month: 'short',\r\n                        day: 'numeric',\r\n                      })}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Link>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n\r\nexport const getStaticProps: GetStaticProps<Props> = async () => {\r\n  try {\r\n    const baseUrl = process.env.NEXT_PUBLIC_BASE_URL || 'http://localhost:3000';\r\n    const res = await fetch(`${baseUrl}/api/shopify/blog/articles?blog=magazine`);\r\n    \r\n    if (!res.ok) throw new Error('Failed to fetch articles');\r\n    \r\n    const data = await res.json();\r\n    const articles = (data.articles || []).sort((a: BlogArticle, b: BlogArticle) => \r\n      new Date(b.publishedAt).getTime() - new Date(a.publishedAt).getTime()\r\n    );\r\n    \r\n    return {\r\n      props: {\r\n        articles,\r\n      },\r\n      revalidate: 3600, // Revalidate every hour (ISR)\r\n    };\r\n  } catch (error) {\r\n    console.error('Error fetching blog articles:', error);\r\n    \r\n    return {\r\n      props: {\r\n        articles: [],\r\n      },\r\n      revalidate: 60, // Retry after 1 minute on error\r\n    };\r\n  }\r\n};\r\n"],"names":[],"mappings":"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"}}]
}